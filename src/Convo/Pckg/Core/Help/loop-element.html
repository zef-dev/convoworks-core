<div class="loop-help">
    <h3>Loop</h3>

    <p>Go over each element in a collection and do something with it.</p>

    <h3>When to use?</h3>

    <p>If you have an array of items, or any other collection that can be traversed, and you want to perform an operation with each item, use this element.</p>

    <h3>How to use: </h3>
    <ol>
        <li>Make sure you've got an indexed array obtained with e.g. an <code>Http Client</code>, a <code>Json Reader</code>, or set manually with <code>Set Parameter</code>.</li>
        <li>In the <b>Items</b> field, enter the name of the array wrapped in the expression syntax, for example <code>${array_name}</code></li>
        <li>
            In the <b>Data Collection Item Name</b> enter the name under which you'll be able to access individual array items, for example: <code>item</code>.
            The item object has several built in properties:
            <ul>
                <li>To access the actual value of the item, use the <code>value</code> property: <code>${item.value}</code></li>
                <li>To get an item's index, use <code>${item.index}</code></li>
                <li>Since arrays number from 0 instead of 1, you can use the convenience property <code>${item.natural}</code> to get the item's index as if it were counted by a human, that is to say, starting from 1.</li>
                <li>To identify the first, or the last iteration, use <code>${item.first}</code> and <code>{item.last}</code></li>
            </ul>
        </li>
        <li>You can skip iterations of as many items as you wish, starting from the beginning of the array, by entering an offset number in the <b>Offset</b> field</li>
        <li>Entering a limit number in the <b>Limit</b> field limits the loop to the specified number of iterations</li>
        <li>You can place any number of other elements inside the <b>Loop</b> element</li>
    </ol>

    <h3>Example of usage:</h3>
    <div>
        <p>Suppose you have an array of players, imaginatively called <code>players</code>, and each player has a <code>score</code>. Here is an example showing how you could output each player's score:</p>
        <ul>
            <li>For the <b>Items</b> property, set <code>${players}</code></li>
            <li>For <b>Data collection item name</b>, write <code>player</code>. <b>Note the lack of expression syntax wrapper! Do not write <code>${player}</code> by mistake!</b></li>
            <li>Place a <code>Text Response</code> element inside the <code>Loop</code> element</li>
            <li>In the <code>Text Response</code> element's <b>Text</b> field, write <q>Player <code>${player.natural}</code>'s score is <code>${player.value.score}</code></q></li>
        </ul>
    </div>
</div>
